(function(e,t,n,r){"use strict";function u(t,n){s=this,this.element=e(t),this.options=e.extend({},o,n),this._defaults=o,this._name=i,this.init()}var i="ripples",s=null,o={};u.prototype.init=function(){var n=this.element;n.on("mousedown touchstart",function(r){if(s.isTouch()&&r.type==="mousedown")return;n.find(".ripple-wrapper").length||n.append('<div class="ripple-wrapper"></div>');var i=n.children(".ripple-wrapper"),o=s.getRelY(i,r),u=s.getRelX(i,r);if(!o&&!u)return;var a=s.getRipplesColor(n),f=e("<div></div>");f.addClass("ripple").css({left:u,top:o,"background-color":a}),i.append(f),function(){return t.getComputedStyle(f[0]).opacity}(),s.rippleOn(n,f),setTimeout(function(){s.rippleEnd(f)},500),n.on("mouseup mouseleave touchend",function(){f.data("mousedown","off"),f.data("animating")==="off"&&s.rippleOut(f)})})},u.prototype.getNewSize=function(e,t){return Math.max(e.outerWidth(),e.outerHeight())/t.outerWidth()*2.5},u.prototype.getRelX=function(e,t){var n=e.offset();return s.isTouch()?(t=t.originalEvent,t.touches.length!==1?t.touches[0].pageX-n.left:!1):t.pageX-n.left},u.prototype.getRelY=function(e,t){var n=e.offset();return s.isTouch()?(t=t.originalEvent,t.touches.length!==1?t.touches[0].pageY-n.top:!1):t.pageY-n.top},u.prototype.getRipplesColor=function(e){var n=e.data("ripple-color")?e.data("ripple-color"):t.getComputedStyle(e[0]).color;return n},u.prototype.hasTransitionSupport=function(){var e=n.body||n.documentElement,t=e.style,i=t.transition!==r||t.WebkitTransition!==r||t.MozTransition!==r||t.MsTransition!==r||t.OTransition!==r;return i},u.prototype.isTouch=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},u.prototype.rippleEnd=function(e){e.data("animating","off"),e.data("mousedown")==="off"&&s.rippleOut(e)},u.prototype.rippleOut=function(e){e.off(),s.hasTransitionSupport()?e.addClass("ripple-out"):e.animate({opacity:0},100,function(){e.trigger("transitionend")}),e.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){e.remove()})},u.prototype.rippleOn=function(e,t){var n=s.getNewSize(e,t);s.hasTransitionSupport()?t.css({"-ms-transform":"scale("+n+")","-moz-transform":"scale("+n+")","-webkit-transform":"scale("+n+")",transform:"scale("+n+")"}).addClass("ripple-on").data("animating","on").data("mousedown","on"):t.animate({width:Math.max(e.outerWidth(),e.outerHeight())*2,height:Math.max(e.outerWidth(),e.outerHeight())*2,"margin-left":Math.max(e.outerWidth(),e.outerHeight())*-1,"margin-top":Math.max(e.outerWidth(),e.outerHeight())*-1,opacity:.2},500,function(){t.trigger("transitionend")})},e.fn.ripples=function(t){return this.each(function(){e.data(this,"plugin_"+i)||e.data(this,"plugin_"+i,new u(this,t))})}})(jQuery,window,document);